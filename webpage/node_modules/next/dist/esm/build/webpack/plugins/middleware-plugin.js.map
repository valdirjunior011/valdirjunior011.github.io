{"version":3,"sources":["../../../../src/build/webpack/plugins/middleware-plugin.ts"],"names":["getNamedMiddlewareRegex","getModuleBuildInfo","getSortedRoutes","webpack","sources","picomatch","path","EDGE_RUNTIME_WEBPACK","EDGE_UNSUPPORTED_NODE_APIS","MIDDLEWARE_BUILD_MANIFEST","CLIENT_REFERENCE_MANIFEST","MIDDLEWARE_MANIFEST","MIDDLEWARE_REACT_LOADABLE_MANIFEST","SUBRESOURCE_INTEGRITY_MANIFEST","NEXT_FONT_MANIFEST","SERVER_REFERENCE_MANIFEST","INTERCEPTION_ROUTE_REWRITE_MANIFEST","traceGlobals","EVENT_BUILD_FEATURE_USAGE","normalizeAppPath","INSTRUMENTATION_HOOK_FILENAME","isInterceptionRouteRewrite","getDynamicCodeEvaluationError","getModuleReferencesInOrder","KNOWN_SAFE_DYNAMIC_PACKAGES","require","NAME","MANIFEST_VERSION","isUsingIndirectEvalAndUsedByExports","args","moduleGraph","runtime","module","usingIndirectEval","wp","exportsInfo","getExportsInfo","exportName","getUsed","UsageState","Unused","getEntryFiles","entryFiles","meta","hasInstrumentationHook","opts","files","edgeSSR","isServerComponent","push","sriEnabled","filter","file","startsWith","endsWith","map","replace","getCreateAssets","params","compilation","metadataByEntry","assets","middlewareManifest","version","middleware","functions","sortedMiddleware","entrypoints","has","interceptionRewrites","JSON","stringify","rewrites","beforeFiles","RawSource","entrypoint","values","metadata","name","get","page","edgeMiddleware","edgeApiFunction","matcherSource","isAppDir","catchAll","namedRegex","matchers","regexp","originalSource","isEdgeFunction","edgeFunctionDefinition","getFiles","wasm","Array","from","wasmBindings","filePath","assetBindings","env","edgeEnvironments","regions","Object","keys","buildWebpackError","message","loc","entryModule","parser","error","compiler","WebpackError","state","current","isInMiddlewareLayer","layer","isNodeJsModule","moduleName","builtinModules","includes","isDynamicCodeEvaluationAllowed","fileName","middlewareConfig","rootDir","some","pkg","sep","unstable_allowDynamicGlobs","dot","buildUnsupportedApiError","apiName","rest","start","line","registerUnsupportedApiHooks","expression","warnForUnsupportedApi","node","warnings","hooks","call","for","tap","callMemberChain","expressionMemberChain","warnForUnsupportedProcessApi","callee","getCodeAnalyzer","dev","handleExpression","optimize","InnerGraph","onUsage","used","buildInfo","Set","handleWrapExpression","expr","ConstDependency","dependencies","dep1","range","addPresentationalDependency","dep2","handleWrapWasmCompileExpression","handleWrapWasmInstantiateExpression","handleImport","source","value","importLocByPath","Map","importedModule","toString","set","sourcePosition","identifier","sourceContent","skip","undefined","prefix","new","importCall","import","getExtractMetadata","clear","telemetry","entryName","entry","entries","route","options","entryDependency","resolvedModule","getResolvedModule","modules","addEntriesFromDependency","dependency","getModule","add","forEach","includeDependencies","entryMetadata","preferredRegion","ogImageGenerationCount","resource","hasOGImageGeneration","test","util","getEntryRuntime","id","record","eventName","payload","absolutePagePath","config","fileWithDynamicCode","userRequest","join","errors","nextEdgeSSR","nextEdgeMiddleware","nextEdgeApiFunction","nextWasmMiddlewareBinding","nextAssetMiddlewareBinding","conn","featureName","invocationCount","MiddlewarePlugin","constructor","apply","normalModuleFactory","codeAnalyzer","finishModules","tapPromise","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","SUPPORTED_NATIVE_MODULES","supportedEdgePolyfills","getEdgePolyfilledModules","records","mod","handleWebpackExternalForEdgeRuntime","request","context","contextInfo","getResolve","issuerLayer"],"mappings":"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"}